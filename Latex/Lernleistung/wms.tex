\section{Weather Monitoring System}
% wms.viwetter.de
% Was ist WMS BEGIN
Das \textit{Weather Monitoring System} (kurz WMS) beschreibt eine Reihe von Bildschirmen die verteilt in Kühlungsborn Grafiken eines zentralen Servers anzeigen sollen.
Diese Grafiken enthalten generelle Informationen über Kühlungsborn,
sowie Wetterdaten und Wetterprognosen.
Im Schulzentrum Kühlungsborn findet man eine weitere Anwendung des WMS. \\
Im Foyer sollen Bildschirme Grafiken von Schülern für Schüler zeigen.
Diese Grafiken beinhalten Geburtstagswünsche, Termine, oder allgemeine Fakten zu aktuellen Geschehnissen. \\
Die Domain über die die Rechner den WMS-Server erreichen ist \link{http://wms.viwetter.de}. Auch wenn dieser von überall aus erreichbar ist,
muss man sich authentifizieren um Daten zu bearbeiten oder anzuzeigen.
% Was ist WMS ENDE

\subsection{Konzept} % WMS
% Was war unsere Aufgabe
Schüler sollen in der Lage sein die von ihnen in der Projektarbeit erzeugten Grafiken über ein möglichst einfaches Interface auf einen Server zu laden.
Sie sollen anschließend die Bilder ersetzen bzw. löschen können.
Damit die Serveradministrator, in diesem Fall \sw , \mb und \re ,
bestimmen können wer für welchen Ordner Grafiken hochladen und einbetten kann ist der Zugriff auf die Dateimanagementfunktion nur über ein Benutzerkonto möglich.
Es können von jedem Administrator nach Bedarf neue Konten erstellt werden. \\
Auch zum anschauen der Grafiken muss man ein Konto besitzen,
allerdings soll der Anzeigecomputer auch von alleine in der Lage sein sich einzuloggen und die Grafiken eines voreingestellten Ordners anzeigen.
Zum Anzeigen muss eine Authentifizierung stattfinden, da Schüler zum einen manchmal unwissend Grafiken mit Copyright hochladen,
und wir uns als Serveradmin schützen und auch den Schülern etwas entgegenkommen wollen. \\
Auch bei diesem Interface greift natürlich die Regel,
dass auch ein Affe die Datenbank bedienen können soll und auch die obligatorische Katze auf der Datenbank soll das System nicht zum Absturz bringen.\footnote{diese Regel gibt dem System dessen Namen ,,apewms'' auf Github.com}

\subsubsection{Hardware}
Zum Weather Monitoring System gehören zwei Bereiche die mit Hardware etwas zutun haben.
Einerseits muss es einen Server geben, welcher die Daten bereitstellt,
und gleichzeit auch möglichst interaktiv das Bearbeiten und Hochladen von neuen Daten ermöglicht.
Diesem Server sollte genügen Speicherplatz bereitstehen,
um alle Grafiken zu speichern.
Aus der Spezifikation, dem Konzept, kann man schon ablesen, dass auch eine Datenbank auf dem
Server angelegt werden muss.\\
Der Client des Weather Monitoring Systems, muss funktionell nur Grafiken auf einem Bildschirm anzeigen.
Diese Aufgabe ist nicht alzu aufwendig, daher ist bei der Auswahl der Clienthardware robustheit ein wichtigerer Faktor. Außerdem sollte die Hardware, noch eher als beim Server, möglichst kostgünstig sein,
da wir früh planten, bei einem funktionierenden System mehrere Anzeigen einzusetzen.
Die Lösung für Server und Client fand sich mit dem Raspberry Pi.
Dieser kleine Rechner wurde für diese Arbeit schon mehrmals als Lösung herangezogen,
und durch die Verfügbarkeit, Erfahrung mit der Hardware sowie der Möglichkeit direkt Prototypen zu testen bot es sich an einen Raspberry Pi als Server und Client zu benutzen.\\
Für beide Anwendungsfälle komponierte ich eine abgewandelte Version des Raspbian Betriebssystems um die verlangte Aufgabe bestmöglichst zu erfüllen.


\subsection{Interface} % WMS
Nachdem ein Nutzer die Anmelderoutine durchgeführt hat wird ihm die Struktur der Daten nach Anzeigeindex geordnet angezeigt.
Der Nutzer, in diesem Fall der Schüler oder der Endnutzer am Bildschirm,
selbst hat nur einen geringen Einblick in die Datenbank, und kann nicht direkt auf den Ordner auf dem Server zugreifen.\\
Das von uns gestellte Interface ermöglicht ihm aber neue Ordner zu erstellen und Grafiken hochzuladen und zu löschen.
Dabei wird im Hintergrund von jedem Bild der Autor gespeichert. \\
Das Interface selbst ist hauptsächlich in PHP und CSS geschrieben.
Natürlich ist ein gewisser Grad von JavaScript und HTML unumgänglich. \\
Da auch die Bearbeitung der Daten von einem Raspberry Pi möglich sein soll ist der HTML Code nicht an der vordersten Front der HTML Syntax (zum Zeitpunkt der Setzung HTML5),
sondern beruht auf grundlegenden Elementen und enthält auch kaum Animationen. \\
% TODO mehr über Sicherheit
JavaScript wird nur benutzt um Eingabeformulare auf offensichtliche Fehler zu überprüfen.
Außerdem schränken wir den Nutzer bewusst ein, sodass die Wahrscheinlichkeit,
dass er etwas veranlasst, wovon er nicht wusste was es bewirkt, verringert wird.
Dies beinhaltet das Freigeben des Links um die Anzeige einzuschalten,
dies kann nur durch einen Admin geschehen.
Auch der Schüler soll vor sich selbst geschützt werden.
Es ist ihm nicht möglich einen Link als Grafik hochzuladen,
oder eine Offlinedatei zu Verlinken.
Wenn der Nutzer auswählt eine Grafik hochzuladen,
hat er nicht die Möglichkeit eine Verlinkung einzufügen, und vice versa.
\begin{center}
\includegraphics[width=\linewidth]{imgs/wms/wms_interface.png}
\end{center}

\subsection{Generierte Grafiken}
\label{sub:Generierte Grafiken}
In diesem Abschnitt der Projektarbeit bestand wieder ein Bedarf nach automatisiert erzeugten Grafiken.
Einerseits ist das Wetter, ,,Weather'' ja schon namensgebend, somit ist der \vs -Teil meiner Arbeit schon relevant.
Zudem fand sich aber auch ein anderer Anlass Grafiken automatisiert zu generieren.
Das WMS System befindet sich im Foyer des Schulzentrum Kühlungsborns in dreifacher Ausführung.
Einer der Rechner soll als Geburtstagsanzeige genutzt werden.
Er zeigt also eine Reihe von Grafiken an, auf denen grafisch aufbereitete Tabellen aus Namen und Geburtsdaten der aktuellen Woche zu sehen sind.
Die Erzeugung dieser Grafiken erfolgte historisch im Hafen im Rahmen des Wahlpflichtfaches unter der Leitung von Dr. Ronald Eixmann.
Die Arbeit ist zeitaufwändig, und ein Schüler muss angelernt werden wie CoralDraw bedient wird.
Auch wenn die Fähigkeit dieses Programm benutzen zu können nicht unwichtig ist, ist die Arbeit die
Daten aus einer Tabelle zu lesen und in eine Maske einzutragen nicht notwendigerweise von einem Menschen abhängig.\\
% TODO: explain autowkid

\subsection{Application Programming Interface}
\label{sub:wmsapi}
Ein Application Programming Interface, kurz API, ist eine Schnittstelle zu einem größeren Programm
über eine Programmiersprache, welche nicht der des ursprünglichen Programmes entsprechen muss.
Über diese Schnittstelle soll dann die Ausführung von Aufgaben veranlasst werden.
Eine API ermöglicht also dann Entwicklern auf ihr Programm von außen zuzugreifen und es zu erweitern.
In meinem Fall von WMS war eine API notwendig um von Programmen aus, also nicht von \link{wms.viwetter.de}, Grafiken hochzuladen und zu verwalten.
Im Detail wird die API genutzt um die erzeugtet Geburtstagsgrafiken von einem Python Programm auf den Server zu laden und die Geburtstagsgrafikenschleife zu verwalten.
Die API auf Seiten des Servers ist in PHP geschrieben.
Auf diese API kann nun von außen jede Programmiersprache über GET und POST Requests des Hyper Text Transfer Protokolls zugreifen.
Eine dieser Programmiersprachenschnittstellen wurde von mir für Python geschrieben.
% TODO: Link/Explain/Show wmsapi.py --> wmsa.py ?

\subsection{Erreichbarkeit} % WMS
Auch wenn der Server nicht globales Interesse erweckt soll er natürlich nicht nur im Hafen erreichbar sein.
Da Standorte sich auch verändern können,
und nicht dringend immer in Kühlungsborn liegen müssen, ist der Server über den Domainnamen \link{http://wms.viwetter.de} erreichbar. \\
Alle Funktionen die hier beschrieben wurden sind demnach auch von jedem internetfähigen PC erreichbar. Keiner der Computer hat Sonderrechte,
und es werden auch keine Cookies gespeichert.

\subsection{Sicherheit} % WMS
Da dieses System an öffentlichen Orten Anwendung finden soll,
muss gewährleistet sein, dass auf den Anzeigegeräten nur Daten angezeigt werden,
die von autorisierten Personen ausgewählt worden.
Außerdem soll der Service nicht ohne unsere Erlaubnis und Wissen aufrufbar sein,
deshalb haben wir ein Kontensystem implementiert.
Da die Client Computer automatisiert starten und gleich die richtigen Daten anzeigen sollen,
mussten wir ein Protokoll entwickeln, welches sicher ist,
aber einem Rechner ermöglicht sich selbst einzuloggen.
